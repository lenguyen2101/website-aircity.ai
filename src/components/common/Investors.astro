---
import Container from "./ui/Container.astro";
import Section from "./ui/Section.astro";
import { getLangFromUrl, useTranslations } from "../../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const investors = [
  { name: "Sopoong", type: "Impact VC", country: "KR", logo: "/images/investors/sopoong.png" },
  { name: "Antler", type: "Global VC", country: "SG", logo: "/images/investors/antler.webp" },
  { name: "99.co", type: "Angel Investor", logo: "/images/investors/99.co.png" },
  { name: "VinFast", type: "Angel Investor", logo: "/images/investors/vinfast.webp" },
  { name: "JX Partners", type: "Angel Investor", logo: "/images/investors/JX Partners.png" },
  { name: "SEED", type: "Angel Investor" },
  { name: "REACTOR", type: "Angel Investor" },
];
---

<Section className="py-20 border-t border-border-color">
  <Container>
    <div class="mb-12">
      <h2 class="text-4xl md:text-5xl font-bold text-white tracking-tight">
        {t('home.investors.title')}
      </h2>
    </div>

    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 border-l border-t border-white/5">
      {
        investors.map((investor) => (
          <div class="group relative aspect-[3/2] flex items-center justify-center p-8 border-r border-b border-white/5 hover:bg-white/[0.02] transition-colors">
            <!-- Glitchy hover effect background -->
            <div class="absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity pointer-events-none">
                <div class="absolute inset-0 bg-gradient-to-br from-primary-500 to-transparent"></div>
            </div>
            
            <div class="relative z-10 flex flex-col items-center justify-center w-full px-6">
              <div class="h-12 flex items-center justify-center mb-6">
                {investor.logo ? (
                  <img 
                    src={investor.logo} 
                    alt={investor.name}
                    class="max-h-full max-w-full object-contain transition-all duration-500"
                  />
                ) : (
                  <div class="text-xl font-bold text-white transition-colors duration-500 font-mono tracking-widest uppercase">
                    {investor.name}
                  </div>
                )}
              </div>
              
              <div class="flex items-center justify-center gap-2 mb-1">
                <span class="text-sm font-bold text-white transition-colors duration-300 font-mono tracking-tighter uppercase line-clamp-1">
                  {investor.name}
                </span>
                {investor.country && (
                  <span class="text-[9px] px-1 py-0.5 border border-white/40 text-white/60 transition-colors font-mono">
                    {investor.country}
                  </span>
                )}
              </div>
              <div class="text-[9px] font-mono text-white transition-colors uppercase tracking-[0.2em] font-medium text-center">
                {investor.type}
              </div>
            </div>

            <!-- Corner Accents -->
            <div class="absolute top-0 right-0 w-4 h-4 border-t border-r border-white/0 group-hover:border-white/20 transition-all"></div>
            <div class="absolute bottom-0 left-0 w-4 h-4 border-b border-l border-white/0 group-hover:border-white/20 transition-all"></div>
          </div>
        ))
      }
    </div>
  </Container>
</Section>

<style>
  .grid {
    /* To ensure borders don't double up or look weird */
    box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.05);
  }
</style>
