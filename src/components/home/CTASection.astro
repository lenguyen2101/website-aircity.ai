---
/**
 * CTASection - Final call-to-action section before footer
 */
import {
  getLangFromUrl,
  useTranslations,
  useTranslatedPath,
} from "../../i18n/utils";
import Section from "../common/ui/Section.astro";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);

interface Props {
  theme?: "light" | "dark";
}

const { theme = "light" } = Astro.props;
---

<Section theme={theme}>
  <div class="max-w-3xl mx-auto text-center">
    <h2 class="animate-reveal text-primary mb-6">
      {t("home.cta.title_p1")}
      <span class="gradient-text">{t("home.cta.title_p2")}</span><br />
      {t("home.cta.title_p3")}
    </h2>
    <p
      class="animate-reveal text-secondary mb-10"
      style="animation-delay: 0.1s;"
    >
      {t("home.cta.desc")}
    </p>

    <div
      class="animate-reveal flex flex-col sm:flex-row items-center justify-center gap-4"
      style="animation-delay: 0.2s;"
    >
      <a
        href={translatePath("/contact")}
        class="btn-primary text-base px-10 py-4"
      >
        <span class="shine"></span>
        <span>{t("home.cta.cta_demo")}</span>
        <svg
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="relative z-10"
        >
          <path d="M5 12h14M12 5l7 7-7 7"></path>
        </svg>
      </a>
      <a href="tel:+84281234568" class="btn-secondary text-base px-10 py-4">
        <svg
          width="18"
          height="18"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          class="text-primary-500"
        >
          <path
            d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72c.127.96.361 1.903.7 2.81a2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0 1 22 16.92z"
            stroke-linecap="round"
            stroke-linejoin="round"></path>
        </svg>
        {t("home.cta.cta_call")}
      </a>
    </div>

    <!-- Trust badges -->
    <div
      class="animate-reveal mt-16 flex flex-wrap items-center justify-center gap-8 text-secondary"
      style="animation-delay: 0.3s;"
    >
      <div class="flex items-center gap-2 text-sm">
        <svg
          width="16"
          height="16"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          class="text-success"
        >
          <path
            d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"
            stroke-linecap="round"
            stroke-linejoin="round"></path>
        </svg>
        {t("home.cta.badge_iso")}
      </div>
      <div class="flex items-center gap-2 text-sm">
        <svg
          width="16"
          height="16"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          class="text-primary-500"
        >
          <circle cx="12" cy="8" r="7"></circle><polyline
            points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>
        </svg>
        {t("home.cta.badge_award")}
      </div>
      <div class="flex items-center gap-2 text-sm">
        <svg
          width="16"
          height="16"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          class="text-primary-500"
        >
          <path
            d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"
            stroke-linecap="round"
            stroke-linejoin="round"></path><circle cx="9" cy="7" r="4"
          ></circle><path
            d="M23 21v-2a4 4 0 0 0-3-3.87"
            stroke-linecap="round"
            stroke-linejoin="round"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"
          ></path>
        </svg>
        {t("home.cta.badge_users")}
      </div>
    </div>
  </div>
</Section>
